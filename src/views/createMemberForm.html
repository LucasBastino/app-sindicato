<body>
    <h2>Agregar afiliado</h2>
    <div class="form-container">
    <form class="input-container" hx-post="/member/create" hx-target="#tableDiv">
            <input class="form-input" type="text" name="name" value="{{$.member.Name}}" placeholder="Nombres" required>
            {{with .errorMap.name}}
                <p>{{.}}</p>
            {{end}}
            <input class="field-6" type="text" name="last-name" value="{{$.member.LastName}}" placeholder="Apellidos" required>
            {{with .errorMap.lastName}}
                <p>{{.}}</p>
            {{end}}
            <input class="form-input" type="text" name="dni" value="{{$.member.DNI}}" placeholder="DNI" required>
            {{with .errorMap.dni}}
                <p>{{.}}</p>
            {{end}}

            <input class="field-6" type="text" name="birthday" value="{{$.member.Birthday}}" placeholder="Fecha de Nacimiento" required>
            {{with .errorMap.birthday}}
                <p>{{.}}</p>
            {{end}}
            <select class="field-6" name="gender" id="gender" onchange="cambiarColorPorDefecto(value, id);" required>
                {{if eq $.member.Gender ""}}
                <option value="">Género</option>
                {{else}}
                <option value="{{$.member.Gender}}">{{$.member.Gender}}</option>
                {{end}}               
                <option value="Masculino">Masculino</option>
                <option value="Femenino">Femenino</option>
                <option value="Otro">Otro</option>
            </select>
            {{with .errorMap.gender}}
                <p>{{.}}</p>
            {{end}}

            <select class="field-6" id="marital-status" name="marital-status" onchange="cambiarColorPorDefecto(value, id);" required>
                {{if eq $.member.Gender ""}}
                <option value="">Estado Civil</option>
                {{else}}
                <option value="{{$.member.MaritalStatus}}">{{$.member.MaritalStatus}}</option>
                {{end}}   
                <option value="Soltero">Soltero</option>
                <option value="Casado">Casado</option>
                <option value="Viudo">Viudo</option>
                <option value="Separado">Separado</option>
                <option value="Divorciado">Divorciado</option>
            </select>
            {{with .errorMap.maritalStatus}}
                <p>{{.}}</p>
            {{end}}

            <input class="field-6" name="phone" type="text" value="{{$.member.Phone}}" placeholder="Teléfono" required></input>
            {{with .errorMap.phone}}
                <p>{{.}}</p>
            {{end}}
            <input class="field-6" name="email" type="text" value="{{$.member.Email}}" placeholder="Email"></input>
            
            <div class="titulo field-12">Domicilio</div>
                <input class="field-6" type="text" name="address" value="{{$.member.Address}}" placeholder="Dirección" required>
                {{with .errorMap.address}}
                <p>{{.}}</p>
                {{end}}
                <input class="field-6" type="text" name="postal-code" value="{{$.member.PostalCode}}" placeholder="Codigo Postal" required>
                {{with .errorMap.postalCode}}
                <p>{{.}}</p>
                {{end}}
                <input class="field-6" type="text" name="district" value="{{$.member.District}}" placeholder="Localidad" required>
                {{with .errorMap.district}}
                <p>{{.}}</p>
                {{end}}

                <div class="titulo field-12">Datos de la Obra Social</div>
                <input class="field-6" type="text" name="member-number" value="{{$.member.MemberNumber}}" placeholder="Número de Afiliado" required >
                {{with .errorMap.memberNumber}}
                <p>{{.}}</p>
                {{end}}
                <input class="field-6" type="text" name="cuil" value="{{$.member.CUIL}}" placeholder="CUIL" required >
                {{with .errorMap.cuil}}
                <p>{{.}}</p>
                {{end}}
            <select name="id-enterprise" id="enterprise-select" required>
                {{ if $.member.IdEnterprise is not null}}
                {{range $_, $e := .enterprises}}
                    {{if eq $e.IdEnterprise $.member.IdEnterprise}}
                    <option class="current-enterprise" value="{{$e.IdEnterprise}}">{{$e.Name}}</option>
                    {{end}}
                {{end}}
                {{else}}
                <option value="">--Elegir una empresa--</option>
                {{end}}
                
                {{range $_, $e := .enterprises}}
                <option value="{{$e.IdEnterprise}}">{{$e.Name}}</option>
                {{end}}
            </select>
            {{with .errorMap.enterprise}}
                <p>{{.}}</p>
            {{end}}
            <input class="field-6" type="text" name="entry-date" id="entry-date" value="{{$.member.EntryDate}}" placeholder="Fecha de Ingreso" required>
            {{with .errorMap.entryDate}}
            <p>{{.}}</p>
        {{end}}
            <select class="field-6" name="category" id="category" onchange="cambiarColorPorDefecto(value, id);" required>
                {{if eq $.member.Category ""}}
                <option value="">--Elegir una categoría</option>
                {{else}}
                <option value="{{$.member.Category}}">{{$.member.Category}}</option>
                {{end}}
                <option value="1">Nivel 1: Oficial Múltiple</option>
                <option value="2">Nivel 2: Oficial Especializado</option>
                <option value="3">Nivel 3: Oficial General</option>
                <option value="4">Nivel 4: Medio Oficial</option>
                <option value="5">Nivel 5: Ayudante</option>
                <option value="6">Nivel 6: Operario Act. Industrial</option>
            </select>
            {{with .errorMap.category}}
                <p>{{.}}</p>
            {{end}}
            <input class="field-6" type="text" name="last-card-emition" value="{{$.member.LastCardEmition}}" placeholder="Ultima emision de Carnet" required>
            {{with .errorMap.lastCardEmition}}
                <p>{{.}}</p>
            {{end}}
        <button type="submit">Enviar</button>
    </form> 
</div>
</body>