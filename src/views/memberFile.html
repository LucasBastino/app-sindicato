<h2>Ficha de {{$.member.Name}}</h2>
<form hx-put="/member/{{$.member.IdMember}}/edit" hx-target="#tableDiv">
    <input class="form-input" type="text" name="name" value="{{$.member.Name}}" placeholder="Nombres" required disabled>
    {{with .errorMap.name}}
        <p>{{.}}</p>
    {{end}}
    <input class="field-6" type="text" name="last-name" value="{{$.member.LastName}}" placeholder="Apellidos" required disabled>
    {{with .errorMap.lastName}}
        <p>{{.}}</p>
    {{end}}
    <input class="form-input" type="text" name="dni" value="{{$.member.DNI}}" placeholder="DNI" required disabled>
    {{with .errorMap.dni}}
        <p>{{.}}</p>
    {{end}}

    <input class="field-6" type="text" name="birthday" value="{{$.member.Birthday}}" placeholder="Fecha de Nacimiento" required disabled>
    {{with .errorMap.birthday}}
        <p>{{.}}</p>
    {{end}}
    <select class="field-6" name="gender" id="gender" onchange="cambiarColorPorDefecto(value, id);" required disabled>
        <option value="{{$.member.Gender}}">{{$.member.Gender}}</option>
        <option value="Masculino">Masculino</option>
        <option value="Femenino">Femenino</option>
        <option value="Otro">Otro</option>
    </select>
    {{with .errorMap.gender}}
        <p>{{.}}</p>
    {{end}}

    <select class="field-6" id="marital-status" name="marital-status" onchange="cambiarColorPorDefecto(value, id);" required disabled>
        <option value="{{$.member.MaritalStatus}}">{{$.member.MaritalStatus}}</option>
        <option value="Soltero">Soltero</option>
        <option value="Casado">Casado</option>
        <option value="Viudo">Viudo</option>
        <option value="Separado">Separado</option>
        <option value="Divorciado">Divorciado</option>
    </select>
    {{with .errorMap.maritalStatus}}
        <p>{{.}}</p>
    {{end}}

    <input class="field-6" name="phone" type="text" value="{{$.member.Phone}}" placeholder="Teléfono" required disabled></input>
    {{with .errorMap.phone}}
        <p>{{.}}</p>
    {{end}}
    <input class="field-6" name="email" type="text" value="{{$.member.Email}}" placeholder="Email" disabled></input>

    <div class="titulo field-12">Domicilio</div>
    <input class="field-6" type="text" name="address" value="{{$.member.Address}}" placeholder="Dirección" required disabled>
    {{with .errorMap.address}}
    <p>{{.}}</p>
    {{end}}
    <input class="field-6" type="text" name="postal-code" value="{{$.member.PostalCode}}" placeholder="Codigo Postal" required disabled>
    {{with .errorMap.postalCode}}
    <p>{{.}}</p>
    {{end}}
    <input class="field-6" type="text" name="district" value="{{$.member.District}}" placeholder="Localidad" required disabled>
    {{with .errorMap.district}}
    <p>{{.}}</p>
    {{end}}

    <div class="titulo field-12">Datos de la Obra Social</div>
    <input class="field-6" type="text" name="member-number" value="{{$.member.MemberNumber}}" placeholder="Número de Afiliado" required disabled>
    {{with .errorMap.memberNumber}}
    <p>{{.}}</p>
    {{end}}
    <input class="field-6" type="text" name="cuil" value="{{$.member.CUIL}}" placeholder="CUIL" required disabled>
    {{with .errorMap.cuil}}
    <p>{{.}}</p>
    {{end}}
    <select name="id-enterprise" id="enterprise-select" required disabled>
        {{ if $.member.IdEnterprise is not null}}
                {{range $_, $e := .enterprises}}
                    {{if eq $e.IdEnterprise $.member.IdEnterprise}}
                    <option class="current-enterprise" value="{{$e.IdEnterprise}}">{{$e.Name}}</option>
                    {{end}}
                {{end}}
        {{range $_, $e := .enterprises}}
            <option value="{{$e.IdEnterprise}}">{{$e.Name}}</option>
        {{end}}
        {{with .errorMap.enterprise}}
            <p>{{.}}</p>
        {{end}}
    </select>
    <input class="field-6" type="text" name="entry-date" id="entry-date" value="{{$.member.EntryDate}}" placeholder="Fecha de Ingreso" required disabled>
        {{with .errorMap.entryDate}}
        <p>{{.}}</p>
        {{end}}
    <select class="field-6" name="category" id="category" onchange="cambiarColorPorDefecto(value, id);" required disabled>
        {{if eq $.member.Category ""}}
        <option value="">--Elegir una categoría</option>
        {{else}}
        <option value="{{$.member.Category}}">{{$.member.Category}}</option>
        {{end}}
        <option value="1">Nivel 1: Oficial Múltiple</option>
        <option value="2">Nivel 2: Oficial Especializado</option>
        <option value="3">Nivel 3: Oficial General</option>
        <option value="4">Nivel 4: Medio Oficial</option>
        <option value="5">Nivel 5: Ayudante</option>
        <option value="6">Nivel 6: Operario Act. Industrial</option>
    </select>
    {{with .errorMap.category}}
        <p>{{.}}</p>
    {{end}}
    <input class="field-6" type="text" name="last-card-emition" value="{{$.member.LastCardEmition}}" placeholder="Ultima emision de Carnet" required disabled>
    {{with .errorMap.lastCardEmition}}
        <p>{{.}}</p>
    {{end}}
    <button type="submit" class="btn-primary btn-submit hide">Confirmar</button>
</form>

<button class="btn-primary" onclick="enableInputs(); showConfirmButton(); hideMemberSearchInput(); enableSelect();">Editar</button>
<button type="submit" hx-get="/member/{{$.member.IdMember}}/parentTable" hx-trigger="click" hx-target="#parentTableDiv" onclick="showAddParentButton();">Familiares</button>


<div id="parentTableDiv"></div>

<button class="btn-primary hide" id="add-parent-button" hx-get="/member/{{$.member.IdMember}}/form/createParent" hx-trigger="click" hx-target="#tableDiv">Agregar familiar</button>
